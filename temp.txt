/*
  Application routes (public site)
  - Centralized react-router configuration and cross-cutting providers
  - Adds Meta manager, analytics tracker, and chatbot widget globally
*/
import OurCoursesPage from "./pages/OurCoursesPage.jsx";
import { BrowserRouter, Navigate, Routes, Route, useParams } from "react-router-dom";
import RouteScrollToTop from "./helper/RouteScrollToTop.jsx";
import RequireAuth from "./components/RequireAuth.jsx";
import MetaManager from "./components/MetaManager.jsx";
import SiteAnalyticsTracker from "./components/SiteAnalyticsTracker.jsx";
import HelpLauncher from "./components/HelpLauncher.jsx";
import HomePageOne from "./pages/HomePageOne";
import AboutPage from "./pages/AboutPage.jsx";
import ApplyAdmissionPage from "./pages/ApplyAdmissionPage.jsx";
import BlogPage from "./pages/BlogPage.jsx";
import BlogClassicPage from "./pages/BlogClassicPage.jsx";
import BlogDetailsPage from "./pages/BlogDetailsPage.jsx";
import BlogListPage from "./pages/BlogListPage.jsx";
import BookOnlineClassPage from "./pages/BookOnlineClassPage.jsx";
import CartPage from "./pages/CartPage.jsx";
import CheckoutPage from "./pages/CheckoutPage.jsx";
import ContactPage from "./pages/ContactPage.jsx";
import CoursePage from "./pages/CoursePage.jsx";
import CourseDetailsPage from "./pages/CourseDetailsPage.jsx";
import EventDetailsPage from "./pages/EventDetailsPage.jsx";
import EventsPage from "./pages/EventsPage.jsx";
// FaqPage removed
import MyCoursesPage from "./pages/MyCoursesPage.jsx";
import FindTutorsPage from "./pages/FindTutorsPage.jsx";
import GalleryPage from "./pages/GalleryPage.jsx";
import CandidatesAndInternsPage from "./pages/CandidatesAndInternsPage.jsx";
import EmployeeAndAlumniPage from "./pages/EmployeeAndAlumniPage.jsx";
import HomePageTwo from "./pages/HomePageTwo.jsx";
import HomePageThree from "./pages/HomePageThree.jsx";
import HomePageFour from "./pages/HomePageFour.jsx";
import InstructorPage from "./pages/InstructorPage.jsx";
import InstructorDetailsPage from "./pages/InstructorDetailsPage.jsx";
import InstructorTwoPage from "./pages/InstructorTwoPage.jsx";
import LessonDetailsPage from "./pages/LessonDetailsPage.jsx";
import PricingPlanPage from "./pages/PricingPlanPage.jsx";
import PrivacyPolicyPage from "./pages/PrivacyPolicyPage.jsx";
import InvestorsPrivacyPage from "./pages/InvestorsPrivacyPage.jsx";
import ProductPage from "./pages/ProductPage.jsx";
import ProductDetailsPage from "./pages/ProductDetailsPage.jsx";
import SignInPage from "./pages/SignInPage.jsx";
import ForgotPasswordPage from "./pages/ForgotPasswordPage.jsx";
import SignUpPage from "./pages/SignUpPage.jsx";
import ProfilePage from "./pages/ProfilePage.jsx";
import TuitionJobsPage from "./pages/TuitionJobsPage.jsx";
import TutorPage from "./pages/TutorPage.jsx";
import TutorDetailsPage from "./pages/TutorDetailsPage.jsx";
import ShareholdersPrivacyPage from "./pages/ShareholdersPrivacyPage.jsx";
import VisitorPolicyPage from "./pages/VisitorPolicyPage.jsx";
import VendorsPrivacyPage from "./pages/VendorsPrivacyPage.jsx";
import HomePageFive from "./pages/HomePageFive.jsx";
import HomePageSix from "./pages/HomePageSix.jsx";
import KnowCFLPage from "./pages/KnowCFLPage.jsx";
import CoursePaymentPage from "./pages/CoursePaymentPage.jsx";
import SupportPage from "./pages/SupportPage.jsx";
import SupportTicketDetailsPage from "./pages/SupportTicketDetailsPage.jsx";
import SocialPortfolioPage from "./pages/SocialPortfolioPage.jsx";
import ProgrammeCoursePage from "./pages/ProgrammeCoursePage.jsx";

const GradusXRedirect = () => {
  const { course } = useParams();
  return <Navigate to={`/gradus-x/${course}`} replace />;
};

function App() {
  return (
    <BrowserRouter>
      <MetaManager />
      <RouteScrollToTop />
      <SiteAnalyticsTracker />
      <HelpLauncher />

      <Routes>
        <Route exact path='/' element={<HomePageOne />} />
        <Route exact path='/index-2' element={<HomePageTwo />} />
        <Route exact path='/index-3' element={<HomePageThree />} />
        <Route exact path='/index-4' element={<HomePageFour />} />
        <Route exact path='/index-5' element={<HomePageFive />} />
        <Route exact path='/index-6' element={<HomePageSix />} />
        <Route exact path='/about-us' element={<AboutPage />} />
        <Route exact path='/know-CFL' element={<KnowCFLPage />} />
        <Route exact path='/apply-admission' element={<ApplyAdmissionPage />} />
        <Route exact path='/blogs' element={<BlogPage />} />
        <Route exact path='/blog-classic' element={<BlogClassicPage />} />
        <Route exact path='/blogs/:slug' element={<BlogDetailsPage />} />
        <Route exact path='/blog-list' element={<BlogListPage />} />
        <Route
          exact
          path='/book-online-class'
          element={<BookOnlineClassPage />}
        />
        <Route exact path='/cart' element={<CartPage />} />
        <Route exact path='/checkout' element={<CheckoutPage />} />
        <Route exact path='/contact' element={<ContactPage />} />
        <Route exact path='/course-grid-view' element={<Navigate to='/our-courses' replace />} />
        <Route exact path='/our-courses' element={<OurCoursesPage />} />
        { /* Programmes page removed */ }
        <Route exact path='/course-list-view' element={<Navigate to='/our-courses' replace />} />
        <Route exact path='/course-details' element={<CourseDetailsPage />} />
        
        <Route exact path='/event-details' element={<EventDetailsPage />} />
        <Route exact path='/events' element={<EventsPage />} />
        { /* FAQ page removed */ }
        <Route
          exact
          path='/my-courses'
          element={
            <RequireAuth>
              <MyCoursesPage />
            </RequireAuth>
          }
        />
        <Route
          exact
          path='/support'
          element={
            <RequireAuth>
              <SupportPage />
            </RequireAuth>
          }
        />
        <Route
          exact
          path='/support/:id'
          element={
            <RequireAuth>
              <SupportTicketDetailsPage />
            </RequireAuth>
          }
        />
        <Route exact path='/favorite-course' element={<Navigate to='/my-courses' replace />} />
        <Route exact path='/find-tutors' element={<FindTutorsPage />} />
        <Route exact path='/gallery' element={<GalleryPage />} />
        <Route exact path='/instructor' element={<Navigate to='/our-courses' replace />} />
        <Route exact path='/instructor-details' element={<Navigate to='/our-courses' replace />} />
        <Route exact path='/instructor-two' element={<Navigate to='/our-courses' replace />} />
        <Route exact path='/lesson-details' element={<LessonDetailsPage />} />
        <Route exact path='/pricing-plan' element={<PricingPlanPage />} />
        <Route exact path='/privacy-policy' element={<PrivacyPolicyPage />} />
        <Route
          exact
          path='/candidates-interns'
          element={<CandidatesAndInternsPage />}
        />
        <Route
          exact
          path='/employee-alumni'
          element={<EmployeeAndAlumniPage />}
        />
        <Route
          exact
          path='/investors'
          element={<InvestorsPrivacyPage />}
        />
        <Route
          exact
          path='/shareholders'
          element={<ShareholdersPrivacyPage />}
        />
        <Route
          exact
          path='/visitor-policy'
          element={<VisitorPolicyPage />}
        />
        <Route
          exact
          path='/vendors'
          element={<VendorsPrivacyPage />}
        />
        <Route exact path='/product' element={<ProductPage />} />
        <Route exact path='/product-details' element={<ProductDetailsPage />} />
        <Route exact path='/sign-in' element={<SignInPage />} />
        <Route exact path='/forgot-password' element={<ForgotPasswordPage />} />
        <Route exact path='/sign-up' element={<SignUpPage />} />
        <Route
          exact
          path='/profile'
          element={
            <RequireAuth>
              <ProfilePage />
            </RequireAuth>
          }
        />
        <Route
          exact
          path='/payment'
          element={
            <RequireAuth>
              <CoursePaymentPage />
            </RequireAuth>
          }
        />
        <Route exact path='/tuition-jobs' element={<TuitionJobsPage />} />
        <Route exact path='/tutor' element={<TutorPage />} />
        <Route exact path='/tutor-details' element={<TutorDetailsPage />} />
        <Route exact path='/social' element={<SocialPortfolioPage />} />
        {/* Canonicalize old programme slug to hyphenated version */}
        <Route path='/gradusx/:course' element={<GradusXRedirect />} />
        <Route path='/:programme/:course' element={<ProgrammeCoursePage />} />
      </Routes>
    </BrowserRouter>
  );
}

export default App;









